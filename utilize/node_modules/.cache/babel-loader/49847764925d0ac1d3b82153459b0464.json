{"ast":null,"code":"var _jsxFileName = \"D:\\\\utilize\\\\src\\\\containers\\\\MainPage\\\\MainPage.js\";\nimport React from 'react';\nimport Orders from '../../components/Orders/Orders';\nimport * as actions from '../../store/actions/OrderCreator';\nimport { connect } from 'react-redux';\nimport './MainPage.css';\n\nclass Mainpage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.ordersCount = 30;\n\n    this.scrollingToBottom = () => {\n      const element = document.getElementById('orders');\n      console.log(element.getBoundingClientRect().bottom, ':', window.innerHeight);\n\n      if (element !== null && element.getBoundingClientRect().bottom <= window.innerHeight) {\n        this.ordersCount += 30;\n        this.props.fetchOrders(this.ordersCount);\n      }\n    };\n\n    this.handleClick = id => {\n      this.props.getOrder(id);\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchOrders(this.ordersCount);\n    document.addEventListener('scroll', this.scrollingToBottom);\n  }\n\n  render() {\n    console.log(this.props.editedOrder);\n    return React.createElement(\"div\", {\n      className: \"MainPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(Orders, {\n      orders: this.props.orders,\n      getOrder: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    orders: state.orders,\n    editedOrder: state.editedOrder\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchOrders: count => dispatch(actions.fetchingOrders(count)),\n    getOrder: id => dispatch(actions.getOrder(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Mainpage);","map":{"version":3,"sources":["D:/utilize/src/containers/MainPage/MainPage.js"],"names":["React","Orders","actions","connect","Mainpage","Component","ordersCount","scrollingToBottom","element","document","getElementById","console","log","getBoundingClientRect","bottom","window","innerHeight","props","fetchOrders","handleClick","id","getOrder","componentDidMount","addEventListener","render","editedOrder","orders","mapStateToProps","state","mapDispatchToProps","dispatch","count","fetchingOrders"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kCAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAO,gBAAP;;AAEA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAElCC,WAFkC,GAEpB,EAFoB;;AAAA,SASlCC,iBATkC,GASf,MAAM;AACrB,YAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACK,qBAAR,GAAgCC,MAA5C,EAAmD,GAAnD,EAAuDC,MAAM,CAACC,WAA9D;;AACA,UAAGR,OAAO,KAAG,IAAV,IAAkBA,OAAO,CAACK,qBAAR,GAAgCC,MAAhC,IAA0CC,MAAM,CAACC,WAAtE,EAAkF;AAC9E,aAAKV,WAAL,IAAkB,EAAlB;AACA,aAAKW,KAAL,CAAWC,WAAX,CAAuB,KAAKZ,WAA5B;AACH;AACJ,KAhBiC;;AAAA,SAkBlCa,WAlBkC,GAkBnBC,EAAD,IAAQ;AAClB,WAAKH,KAAL,CAAWI,QAAX,CAAoBD,EAApB;AACH,KApBiC;AAAA;;AAIlCE,EAAAA,iBAAiB,GAAE;AACf,SAAKL,KAAL,CAAWC,WAAX,CAAuB,KAAKZ,WAA5B;AACAG,IAAAA,QAAQ,CAACc,gBAAT,CAA0B,QAA1B,EAAoC,KAAKhB,iBAAzC;AACH;;AAeDiB,EAAAA,MAAM,GAAE;AACJb,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKK,KAAL,CAAWQ,WAAvB;AACA,WACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKR,KAAL,CAAWS,MAA3B;AAAmC,MAAA,QAAQ,EAAE,KAAKP,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAKH;;AA7BiC;;AAiCtC,MAAMQ,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHF,IAAAA,MAAM,EAAEE,KAAK,CAACF,MADX;AAEHD,IAAAA,WAAW,EAAEG,KAAK,CAACH;AAFhB,GAAP;AAIH,CALD;;AAOA,MAAMI,kBAAkB,GAAGC,QAAQ,IAAI;AACnC,SAAO;AACHZ,IAAAA,WAAW,EAAGa,KAAD,IAASD,QAAQ,CAAC5B,OAAO,CAAC8B,cAAR,CAAuBD,KAAvB,CAAD,CAD3B;AAEHV,IAAAA,QAAQ,EAAGD,EAAD,IAAMU,QAAQ,CAAC5B,OAAO,CAACmB,QAAR,CAAiBD,EAAjB,CAAD;AAFrB,GAAP;AAIH,CALD;;AAOA,eAAejB,OAAO,CAACwB,eAAD,EAAiBE,kBAAjB,CAAP,CAA4CzB,QAA5C,CAAf","sourcesContent":["import React from 'react'\r\nimport Orders from '../../components/Orders/Orders'\r\nimport * as actions from '../../store/actions/OrderCreator'\r\nimport { connect } from 'react-redux'\r\n\r\nimport './MainPage.css'\r\n\r\nclass Mainpage extends React.Component{\r\n\r\n    ordersCount = 30;\r\n\r\n    componentDidMount(){\r\n        this.props.fetchOrders(this.ordersCount)\r\n        document.addEventListener('scroll', this.scrollingToBottom)\r\n    }\r\n\r\n    scrollingToBottom= () => {\r\n        const element = document.getElementById('orders')\r\n        console.log(element.getBoundingClientRect().bottom,':',window.innerHeight)\r\n        if(element!==null && element.getBoundingClientRect().bottom <= window.innerHeight){\r\n            this.ordersCount+=30\r\n            this.props.fetchOrders(this.ordersCount)\r\n        }\r\n    }\r\n\r\n    handleClick = (id) => {\r\n        this.props.getOrder(id)\r\n    }\r\n\r\n    render(){\r\n        console.log(this.props.editedOrder)\r\n        return(\r\n            <div className=\"MainPage\">                \r\n                <Orders orders={this.props.orders} getOrder={this.handleClick} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        orders: state.orders,\r\n        editedOrder: state.editedOrder\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetchOrders: (count)=>dispatch(actions.fetchingOrders(count)),\r\n        getOrder: (id)=>dispatch(actions.getOrder(id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Mainpage)"]},"metadata":{},"sourceType":"module"}